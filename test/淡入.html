<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>淡入</title>
	<style type="text/css">
		#box{
			position: relative;
		}
		#pic{
			width: 1652px;height: 460px;
			margin:0 auto;cursor: pointer;
		}
		#control span{
			display: inline-block;
			width: 10px;height: 10px;border-radius: 50%;
			background: #fff;
		}
		#control{
			position: absolute;bottom: 20px;
			left: 50%;transform: translateX(-50%);
		}
		#control .on{
			background: #000;
		}
	</style>
</head>
<body>
	<div id="box">
		<div id="pic">
			<img src="images/banner1.jpg">
		</div>
		<div id="control">
			<span class="on"></span>
			<span></span>
			<span></span>
		</div>
	</div>
	<script type="text/javascript">
		var oPic=document.getElementById('pic');
		var oImg=oPic.getElementsByTagName("img")[0];
		var oSpan=document.getElementsByTagName('span');
		// alert(oImg);
		var i=1;
		var timeOut=null;
		oPic.onmouseenter=function(){
			clearInterval(timeOut);
		}
		oPic.onmouseleave=function(){
			clearInterval(timeOut);
			//5s切换
			 timeOut=setInterval(function(){
				fadeIn(oImg);
				i++;
				if(i===4){
					i=1;
				}
				onShow(oSpan,i-1);
				oImg.src="images/banner"+i+".jpg";
				
			},5000)
		}
		//淡入500ms
		function fadeIn(obj){
			clearInterval(timer);
			var o=0;
			obj.style.opacity=0;
			var timer=setInterval(function(){
				if(o>=1){
					clearInterval(timer);
				}else{
					o+=0.05;
					obj.style.opacity=o;
				}
			},25);		
		}
		function onShow(obj,index){
			for(var i=0;i<obj.length;i++){
				obj[i].className="";
			}
			obj[index].className="on";
		}
	</script>
</body>
</html>