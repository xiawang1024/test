<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>透明度</title>
	<style type="text/css">
		div{
			width: 200px;height: 200px;
			display: inline-block;
			background-color: red;
			opacity: 0.3;
		}
	</style>
</head>
<body>
	<div></div>
	<div></div>
	<div></div>
	<script type="text/javascript">

	//小技巧，透明度无法直接获取，找一个中间量作为桥梁oDivs[i].opc,

		var oDivs=document.getElementsByTagName('div');
		for(var i=0;i<oDivs.length;i++){
			oDivs[i].timer=null;
			oDivs[i].opc=30;
			oDivs[i].onmouseover=function(){
				startMove(this,100);
			};
			oDivs[i].onmouseout=function(){
				startMove(this,30);
			};
		}
		function startMove(obj, iTarget){
			clearInterval(obj.timer);
			obj.timer=setInterval(function(){
				var speed=(iTarget-obj.opc)/10;
				speed=speed>0?Math.ceil(speed):Math.floor(speed);
				if(obj.opc===iTarget){
					clearInterval(obj.timer);
				}else{
					obj.opc+=speed;
					obj.style.opacity=obj.opc/100;
				}
			},25);
		}
	</script>
</body>
</html>